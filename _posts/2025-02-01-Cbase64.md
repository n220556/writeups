---
title: Base64
description: Encoding/Decoding Using Base64
date: 2025-02-01
categories: [Cryptography, Encoding]
tag: [base64, Encoding, Cryptography]
---

# Base64 command

## What is base64 Command in Linux?

- `base64` is a command-line utility used to **encode** and **decode** data using the **Base64 encoding scheme**.
- Base64 converts **binary data â†’ ASCII text** so it can be safely transmitted in systems that only handle text (e.g., email, JSON, URLs).
- Each **3 bytes** of binary data â†’ represented as **4 printable ASCII characters**.

## Why Do We Use base64?

- **Transfer binary files** (images, executables, archives) safely over text-only systems.
- **Embed data in text files** (e.g., HTML, JSON, XML, emails).
- **Encode credentials** (basic auth in HTTP, though not secure by itself).
- **Decode Base64-encoded strings** (from emails, scripts, malware samples).
- **Work with cryptography** (keys, certificates, JWTs often use Base64).

## Syntax
```bash
base64 [OPTION]... [FILE]
```
If no file is provided, `base64` reads from **stdin**.

## Use Cases & Examples

1. Encode a File
: 
```bash
base64 file.txt > encoded.txt
```
ğŸ‘‰ Converts `file.txt` into Base64 and saves it into `encoded.txt`.

1. Decode a File
: 
```bash
base64 -d encoded.txt > decoded.txt
```
ğŸ‘‰ Decodes Base64 back to original.

1. Encode from Standard Input
: 
```bash
echo "Hello Linux" | base64
```
ğŸ‘‰ Output: `SGVsbG8gTGludXgK`

1. Decode from Standard Input
: 
```bash
echo "SGVsbG8gTGludXgK" | base64 -d
```
ğŸ‘‰ Output: `Hello Linux`

1. Encode an Image (for HTML embedding)
: 
```bash
base64 photo.png > photo.b64
```
ğŸ‘‰ Converts image into Base64 string (can be used in `<img src="data:image/png;base64,/path/photo.b64">`).

1. Control Line Wrapping
: 
By default, GNU `base64` wraps lines at 76 characters (per MIME standard).
- No wrapping
: 
```bash
base64 -w 0 file.txt
```
ğŸ‘‰ Produces a **single long line** with no breaks.
- Wrap at N characters
: 
```bash
base64 -w 50 bigfile.txt
```
ğŸ‘‰ Inserts a newline after every 50 Base64 characters.

1. Use in Scripting (Credentials)
: 
```bash
echo -n "user:password" | base64
```
ğŸ‘‰ Creates a Base64 string for HTTP Basic Authentication.<br>
ğŸ‘‰ Produces `YWRtaW46MTIzNA==` (used in HTTP Basic Auth headers).

1. `--ignore-garbage` or `-i` for ignoring grabage values:
ğŸ‘‰ When decoding Base64 (`-d`), sometimes the input contains extra characters (spaces, line breaks, comments, etc.) that are **not valid Base64 characters**.
: 
```bash
base64 -d -i encoded.txt
```
- Without `-i`, decoding fails on â€œgarbageâ€ input.
- With `-i`, the decoder **skips non-Base64 characters** and still decodes valid parts.
- Useful in **forensics, malware analysis, or logs**, where Base64 data may be mixed with noise.



## How Base64 Encoding Works

Base64 takes **binary data** (bytes = 8 bits each) and represents it using **printable ASCII characters**.
<br>
ğŸ‘‰ The key idea:

- Take **3 bytes** (3 Ã— 8 = 24 bits)
- Split into **4 groups of 6 bits** each
- Map each 6-bit group â†’ a printable character using the **Base64 index table**

1. Base64 Index Table
: 
There are **64 characters** (hence the name Base64):
```text
Aâ€“Z (26) â†’ values 0â€“25  
aâ€“z (26) â†’ values 26â€“51  
0â€“9 (10) â†’ values 52â€“61  
+ and /  â†’ values 62, 63
=        â†’ padding
```

1. Encoding Example
: 
**Input**: `"Man"`<br>
1.ASCII â†’ Binary
: 
```text
'M' = 77  â†’ 01001101  
'a' = 97  â†’ 01100001  
'n' = 110 â†’ 01101110
```
Combined (24 bits):
```text
01001101 01100001 01101110
```
2.Split into 6-bit chunks
: 
```text
010011 010110 000101 101110
```
3.Convert each 6-bit group â†’ decimal
: 
```text
19   22   5   46
```
4.Map using Base64 table
```text
19 â†’ T  
22 â†’ W  
5  â†’ F  
46 â†’ u
```
âœ… Result: `"TWFu"`


1. Padding with `=`
: 
- If input is not a multiple of 3 bytes, padding is added.<br>
Examples:
- `"Ma"` â†’ `"TWE="`
- `"M"` â†’ `"TQ=="`

1. Decoding
: 
Decoding is just the **reverse**:
- Convert **Base64 chars** â†’ **6-bit binary** â†’ **regroup into 8-bit bytes** â†’ **convert to text**.

## ğŸ”¹ Summary

- Base64 works by **splitting 3 bytes into 4 chunks of 6 bits**.
- Uses a **64-character set**: `[Aâ€“Z, aâ€“z, 0â€“9, +, /]`.
- Uses `=` for padding when the input **isnâ€™t a multiple of 3**.

## âœ… Example in Linux:

```bash
echo -n "Man" | base64
```
Output: 
```bash
TWFu
```

## Visuvaliztion Of base64 Encoding

![base63 visual](/posts/Cryptography/base64visual)

Hereâ€™s a **visual diagram** showing how `"Man"` becomes `"TWFu"` in **Base64**: <br>
- Take 3 bytes â†’ `01001101 01100001 01101110`
- Split into 6-bit chunks â†’ `010011 010110 000101 101110`
- Map each chunk â†’ Base64 chars: **T W F u**
